<div *ngIf="entryId !== undefined && entryId !== null && !isEmpty" style="padding: 0px" class="card">
  <p-tabView>
    <!-- Display group relations if available -->
    <ng-template ngFor let-group [ngForOf]="configuration?.groups">
      <p-tabPanel *ngIf="!this.excludedPanels?.includes(group)" [header]="group"
        [selected]="this.selectedPanel === group">
        <app-entity-group-relation [type]="configName" [entryId]="entryId" [relation]="group">
        </app-entity-group-relation>
      </p-tabPanel>
    </ng-template>


    <div *ngIf="!this.excludedPanels?.includes('LogEntries')">
      <p-tabPanel *ngIf="this.configuration?.components?.includes('LogEntries')" header="Logbuch"
        [selected]="this.selectedPanel === 'LogEntries'">
        <app-entity-logs [type]="configName" [entryId]="entryId"></app-entity-logs>
      </p-tabPanel>
    </div>

    <div *ngIf="!this.excludedPanels?.includes('Notes')">
      <p-tabPanel *ngIf="this.configuration?.components?.includes('Notes')" header="Notizen"
        [selected]="this.selectedPanel === 'Notes'">
        <app-entity-notes [type]="configName" [entryId]="entryId"></app-entity-notes>
      </p-tabPanel>
    </div>

    <ng-template ngFor let-attrGroup [ngForOf]="configuration?.attributeGroups">
      <p-tabPanel *ngIf="!this.excludedPanels?.includes(attrGroup)" [header]="attrGroup.name"
        [selected]="this.selectedPanel === attrGroup">
        <!-- <app-entity-attributegroup [owner]="configName" [entryId]="entryId" [attrGroup]="attrGroup">
        </app-entity-attributegroup> -->
        <app-new-entity-attributegroup [owner]="configName" [entryId]="entryId" [attrGroup]="attrGroup">
        </app-new-entity-attributegroup>
      </p-tabPanel>
    </ng-template>

    <div *ngIf="!this.excludedPanels?.includes('Attributes')">
      <p-tabPanel *ngIf="this.configuration?.components?.includes('Attributes')" header="Attribute"
        [selected]="this.selectedPanel === 'Attributes'">
        <!-- <app-entity-attributes [owner]="configName" [entryId]="entryId"></app-entity-attributes> -->
        <app-new-entity-attributegroup [owner]="configName" [entryId]="entryId"></app-new-entity-attributegroup>
      </p-tabPanel>
    </div>

    <div *ngIf="!this.excludedPanels?.includes('FileAttachments')">
      <p-tabPanel *ngIf="this.configuration?.components?.includes('FileAttachments')" header="DateianhÃ¤nge"
        [selected]="this.selectedPanel === 'FileAttachments'">
        <div style="height: 250px">
          <app-entity-file-attachments [type]="configName" [entryId]="entryId"></app-entity-file-attachments>
        </div>
      </p-tabPanel>
    </div>

    <ng-template ngFor let-subtype [ngForOf]="configuration?.subtypes">
      <p-tabPanel *ngIf="!this.excludedPanels?.includes(subtype)" [header]="subtype"
        [selected]="this.selectedPanel === subtype">
        <app-entity-subtypes [type]="subtype" [mainId]="entryId"></app-entity-subtypes>
      </p-tabPanel>
    </ng-template>

    <div *ngIf="!this.excludedPanels?.includes('Actions')">
      <p-tabPanel *ngIf="showActionTab" header="Aktionen" [selected]="this.selectedPanel === 'Actions'">
        <app-right-actions-editor [entryId]="entryId"></app-right-actions-editor>
      </p-tabPanel>
    </div>

  </p-tabView>
</div>