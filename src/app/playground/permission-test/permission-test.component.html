<p-tabView>
    <p-tabPanel header="Permission-Usability-Checks">
        <h2>Permission-Usability-Checks</h2>




        <h3>default.foo.read</h3>
        <div class="p-grid">
            <div class="p-col">&lt;div *ngxPermissionsOnly=&quot;'default.foo.read'; else failure1&quot;&gt;You have
                permissions for: default.foo.read&lt;/div&gt;<br />
                &lt;ng-template #failure1&gt;You have NO permissions for: default.foo.read&lt;/ng-template&gt;</div>
            <div class="p-col">
                <div *ngxPermissionsOnly="'default.foo.read'; else failure1">You have permissions for: default.foo.read
                </div>
                <ng-template #failure1>You have NO permissions for: default.foo.read</ng-template>
            </div>
        </div>
        <div class="p-grid">
            <div class="p-col">&lt;div *appPermissionCheck=&quot;'default.foo.read';else failure2&quot;&gt;You have
                permissions for: default.foo.read&lt;/div&gt;<br />
                &lt;ng-template #failure2&gt;You have NO permissions for: default.foo.read&lt;/ng-template&gt; </div>
            <div class="p-col">
                <div *appPermissionCheck="'default.foo.read';else failure2">You have permissions for: default.foo.read
                </div>
                <ng-template #failure2>You have NO permissions for: default.foo.read</ng-template>
            </div>
        </div>


        <h3>default.$obj.$prop.read</h3>

        <p>Values for vars are generated by this:</p>
        <div>
            &lt;div *ngFor=&quot;let obj of valuesForObj&quot;&gt;<br />
            &lt;div *ngFor=&quot;let prop of valuesForProp&quot;&gt; <br />
            !!EXPRESSION!!
            &lt;/div&gt;<br />
            &lt;/div&gt;<br />
        </div>
        <br /><br /><br />

        <br />
        <span class="header">
            Using the original directive and resolving the variables with the service
        </span>
        <br />
        <div class="p-grid">
            <div class="p-col">
                &lt;div *ngxPermissionsOnly=&quot;japs.resolveVars('default.$obj.$prop.read',
                {{ '{' }}'$obj':&nbsp;obj,&nbsp;'$prop':&nbsp;prop{{ '}' }})&quot;&gt;<br />
                &lt;p&gt;You&nbsp;have&nbsp;permissions&nbsp;for:&nbsp;default.{{ '{' }}{{ '{' }}obj{{ '}' }}{{ '}' }}.{{ '{' }}{{ '{' }}prop{{ '}' }}{{ '}' }}.read&lt;/p&gt;<br />
                &lt;/div&gt; <br />
            </div>
            <div class="p-col">
                <div *ngFor="let obj of valuesForObj">
                    <div *ngFor="let prop of valuesForProp">
                        <div
                            *ngxPermissionsOnly="japs.resolveVars('default.$obj.$prop.read', {'$obj': obj, '$prop': prop})">
                            <p>You have permissions for: default.{{obj}}.{{prop}}.read</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <br />
        <span class="header">
            Using the jmeleon directive in template form and resolving the variables with additional parameter as dict
        </span>
        <br />
        <div class="p-grid">
            <div class="p-col">
                &lt;ng-template&nbsp;[appPermissionCheck]=&quot;'default.$obj.$prop.read'&quot;&nbsp;[appPermissionCheckVarDict]=&quot;{{ '{' }}'$obj':&nbsp;obj,&nbsp;'$prop':&nbsp;prop{{ '}' }}&quot;&gt;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;You&nbsp;have&nbsp;permissions&nbsp;for:&nbsp;default.{{ '{' }}{{ '{' }}obj{{ '}' }}{{ '}' }}.{{ '{' }}{{ '{' }}prop{{ '}' }}{{ '}' }}.read&lt;/p&gt;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ng-template&gt;
            </div>
            <div class="p-col">

                <div *ngFor="let obj of valuesForObj">
                    <div *ngFor="let prop of valuesForProp">
                        <ng-template [appPermissionCheck]="'default.$obj.$prop.read'" [appPermissionCheckVarDict]="{'$obj': obj, '$prop': prop}">
                                                <p>You have permissions for: default.{{obj}}.{{prop}}.read</p>
                                            </ng-template>
                    </div>
                </div>
            </div>
        </div>
        <br />
        <span class="header">
            Using the jmeleon directive in star form and resolving the variables with suffix within the directive
            parameter itself (as array)
        </span>
        <br />
        <div class="p-grid">
            <!-- commented, since div block causes compiler error in production build (issue in line 102):
                [ERROR] src/app/playground/permission-test/permission-test.component.html(97,32): Property 'obj' does not exist on type 'PermissionTestComponent'.
                [ERROR] src/app/playground/permission-test/permission-test.component.html(97,32): Property 'prop' does not exist on type 'PermissionTestComponent'.
            
            <div class="p-col">
                &lt;div *appPermissionCheck=&quot;'default.$obj.$prop.read'; varArr ['$obj', obj, '$prop',
                prop]&quot;&gt;
                &lt;p&gt;You&nbsp;have&nbsp;permissions&nbsp;for:&nbsp;default.{{obj}}.{{prop}}.read&lt;/p&gt;
                &lt;/div&gt;
            </div>
             -->
            <div class="p-col">
                <div *ngFor="let obj of valuesForObj">
                    <div *ngFor="let prop of valuesForProp">
                        <div *appPermissionCheck="'default.$obj.$prop.read'; varArr ['$obj', obj, '$prop', prop]">
                            <p>You have permissions for: default.{{obj}}.{{prop}}.read</p>
                        </div>
                        <ng-template [appPermissionCheck]="'default.$obj.$prop.read'"
                            [appPermissionCheckVarArr]="['$obj', obj, '$prop', prop]">

                        </ng-template>
                    </div>
                </div>

            </div>
        </div>

        <br />
        <span class="header">
            Using the jmeleon directive in star form and resolving the variables with suffix within the directive
            parameter itself (as array) with else block
        </span>
        <br />
        <div class="p-grid">
            <div class="p-col">
                &lt;div *appPermissionCheck=&quot;'default.$obj.$prop.read'; varArr ['$obj', obj, '$prop', prop];else
                failure3&quot;&gt;
                &lt;p&gt;You&nbsp;have&nbsp;permissions&nbsp;for:&nbsp;default.{{ '{' }}{{ '{' }}obj{{ '}' }}{{ '}' }}.{{ '{' }}{{ '{' }}prop{{ '}' }}{{ '}' }}.read&lt;/p&gt;
                &lt;/div&gt; <br />
                &lt;ng-template #failure3&gt;You have NO permissions for:
                default.{{ '{' }}{{ '{' }}obj{{ '}' }}{{ '}' }}.{{ '{' }}{{ '{' }}prop{{ '}' }}{{ '}' }}.read&lt;/ng-template&gt;
            </div>
            <div class="p-col">
                <div *ngFor="let obj of valuesForObj">
                    <div *ngFor="let prop of valuesForProp">
                        <div
                            *appPermissionCheck="'default.$obj.$prop.read'; varArr ['$obj', obj, '$prop', prop];else failure3">
                            <p>You have permissions for: default.{{obj}}.{{prop}}.read</p>
                        </div>
                        <ng-template #failure3>You have NO permissions for: default.{{obj}}.{{prop}}.read</ng-template>
                    </div>
                </div>

            </div>
        </div>
        <span class="header">
            Using the original directive with string building
        </span>
        <br />
        <div class="p-grid">
            <div class="p-col">
                &lt;div *ngxPermissionsOnly=&quot;'default.' + obj + '.' + prop + '.read';else failure4&quot;&gt;
                &lt;p&gt;You&nbsp;have&nbsp;permissions&nbsp;for:&nbsp;default.{{ '{' }}{{ '{' }}obj{{ '}' }}{{ '}' }}.{{ '{' }}{{ '{' }}prop{{ '}' }}{{ '}' }}.read&lt;/p&gt;
                &lt;/div&gt;
                &lt;ng-template #failure4&gt;You have NO permissions for:
                default.{{ '{' }}{{ '{' }}obj{{ '}' }}{{ '}' }}.{{ '{' }}{{ '{' }}prop{{ '}' }}{{ '}' }}.read&lt;/ng-template&gt;
            </div>
            <div class="p-col">
                <div *ngFor="let obj of valuesForObj">
                    <div *ngFor="let prop of valuesForProp">
                        <div *ngxPermissionsOnly="'default.' + obj + '.' + prop + '.read';else failure4">
                            <p>You have permissions for: default.{{obj}}.{{prop}}.read</p>
                        </div>
                        <ng-template #failure4>You have NO permissions for: default.{{obj}}.{{prop}}.read</ng-template>
                    </div>
                </div>

            </div>
        </div>

        <span class="header">
            Using the original directive with string building and using the releated var-names in ngFor-loop
        </span>
        <br />
        <div class="p-grid">
            <div class="p-col">
                &lt;div *ngxPermissionsOnly=&quot;'default.' + $obj + '.' + $prop + '.read';else failure4&quot;&gt;
                &lt;p&gt;You&nbsp;have&nbsp;permissions&nbsp;for:&nbsp;default.{{ '{' }}{{ '{' }}$obj{{ '}' }}{{ '}' }}.{{ '{' }}{{ '{' }}$prop{{ '}' }}{{ '}' }}.read&lt;/p&gt;
                &lt;/div&gt;
                &lt;ng-template #failure4&gt;You have NO permissions for:
                default.{{ '{' }}{{ '{' }}$obj{{ '}' }}{{ '}' }}.{{ '{' }}{{ '{' }}$prop{{ '}' }}{{ '}' }}.read&lt;/ng-template&gt;
            </div>
            <div class="p-col">
                <div *ngFor="let $obj of valuesForObj">
                    <div *ngFor="let $prop of valuesForProp">
                        <div *ngxPermissionsOnly="'default.' + $obj + '.' + $prop + '.read';else failure4">
                            <p>You have permissions for: default.{{$obj}}.{{$prop}}.read</p>
                        </div>
                        <ng-template #failure4>You have NO permissions for: default.{{$obj}}.{{$prop}}.read
                        </ng-template>
                    </div>
                </div>

            </div>
        </div>





        <span class="header">
            Using the jmeleon directive with the action permission tree object
        </span>
        <br />
        <div class="p-grid">
                <div class="p-col">

                &lt;div&nbsp;*appPermissionCheck=&quot;root.dto.$dtoType.$dtoField.read;&nbsp;varArr&nbsp;['$dtoType',&nbsp;type[0],&nbsp;'$dtoField',&nbsp;field];else&nbsp;failure5&quot;&gt;<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;You&nbsp;have&nbsp;permissions&nbsp;for:&nbsp;default.{{ '{' }}{{ '{' }}{{ '{' }}{{ '{' }}type[0]{{ '}' }}{{ '}' }}{{ '}' }}{{ '}' }}.{{ '{' }}{{ '{' }}{{ '{' }}{{ '{' }}field{{ '}' }}{{ '}' }}{{ '}' }}{{ '}' }}.read&lt;/p&gt;<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&nbsp;<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ng-template&nbsp;#failure5&gt;You&nbsp;have&nbsp;NO&nbsp;permissions&nbsp;for:
                dto.{{ '{' }}{{ '{' }}{{ '{' }}{{ '{' }}type[0]{{ '}' }}{{ '}' }}{{ '}' }}{{ '}' }}.{{ '{' }}{{ '{' }}{{ '{' }}{{ '{' }}field{{ '}' }}{{ '}' }}{{ '}' }}{{ '}' }}.read&nbsp;({{ '{' }}{{ '{' }}{{ '{' }}{{ '{' }}root.dto.$dtoType.$dtoField.read{{ '}' }}{{ '}' }}{{ '}' }}{{ '}' }}&lt;/ng-template&gt;&nbsp;&nbsp;<br />

                    </div>
                <div class="p-col">
                        <div *ngFor="let type of valuesForDtoType">
                                <div *ngFor="let field of type[1]">                
                                                      
                                         
                        <div *appPermissionCheck="root.dto.$dtoType.$dtoField.read; varArr ['$dtoType', type[0], '$dtoField', field];else failure5">
                            <!--                     <p>You have permissions for: default.{{type[0]}}.{{field}}.read</p> -->
                            You have permissions for: default.{{type[0]}}.{{field}}.read
                                            </div> 
                                        <ng-template #failure5>You have NO permissions for:
                            dto.{{type[0]}}.{{field}}.read ({{root.dto.$dtoType.$dtoField.read}}</ng-template>  
                                       
                                        
                                    </div>
                            </div>
                    </div>
        </div> 

        <!-- <div *appPermissionCheck="root.dto.$dtoType.$dtoField.read; varArr ['$dtoType', 'User', '$dtoField', 'firstName'];else failure5">
            <p>You have permissions for: default.{{type[0]}}.{{field}}.read</p>
        </div>  -->


        <span class="header">
            Template for directive unit tests
        </span>
        <br />

        <div class="p-grid">
            <div class="p-col"></div>
            <div class="p-col">
                <ng-template [appPermissionCheck]="actionPath" [appPermissionCheckVarArr]="vars"
                    [appPermissionCheckElse]="failureA">
                    <div>yes</div>
                </ng-template>
                <ng-template #failureA>
                    <div>No</div>
                </ng-template>
            </div>
        </div>

        <ng-template [ngxPermissionsOnly]="'root.layer1.layer2.read'" [ngxPermissionsOnlyElse]="failure">
            <div>yes</div>
        </ng-template>
        <ng-template #failure>
            <div>No</div>
        </ng-template>

        <div class="p-grid">
            <div class="p-col">

            </div>
            <div class="p-col"></div>
        </div>

    </p-tabPanel>

    <p-tabPanel header="Permissions for current user (dyn)">
        <h3>Action-permissions for current user</h3>
        <span>This tab checks against all existing actions</span>

       <div *ngIf="(authService.localUser$ | async).roles.includes('Admin'); else noAdmin">
        <div *ngFor="let action of actionsLiveList$ | async">
            <div *appPermissionCheck="action;else noPermission" class="hasPermission">
                {{action}}
            </div>
            <ng-template #noPermission>
                <div class="hasNoPermission">
                    {{action}}
                </div>
            </ng-template>
        </div>
       </div> 
       <ng-template #noAdmin>
        <div class="hasNoPermission">
            This tab only works with admin rights. (Admin-rights are needed to request the complete action tree from the backend)
        </div>
    </ng-template>
        
    </p-tabPanel>
    <p-tabPanel header="Permissions for current user (manual)">
        <h3>Action-permissions for current user</h3>
        <span>This tab checks against manual defined actions</span>
        <br/>
        <br/>
        <br/>

        <!-- <div *appPermissionCheck="root.foo.bar.foo.three;else hasNoPermissionForFooBarFooThree" class="hasPermission">
            foo.bar.foo.three
        </div>
        <ng-template #hasNoPermissionForFooBarFooThree>
            <div class="hasNoPermission">
                foo.bar.foo.three
            </div>
        </ng-template> -->

        <!-- <div *appPermissionCheck="root.foo.bar.foo.three.doesNotExist;else hasNoPermissionForFooBarFooThreeDoesNotExist" class="hasPermission">
            foo.bar.foo.three.doesNotExist
        </div>
        <ng-template #hasNoPermissionForFooBarFooThreeDoesNotExist>
            <div class="hasNoPermission">
                foo.bar.foo.three.doesNotExist
            </div>
        </ng-template> -->

        <!-- <div *appPermissionCheck="root.foo.bar.foo.three.doesNotExist;else hasNoPermissionForFooBarFoo" class="hasPermission">
            foo.bar.foo
        </div>
        <ng-template #hasNoPermissionForFooBarFoo>
            <div class="hasNoPermission">
                foo.bar.foo -- (only the use of leaves is valid)
            </div>
        </ng-template> -->
        
    </p-tabPanel>

    <p-tabPanel header="variable-resolving for actions" [selected]="true">
        <h3>Action-permission-check with variable resolving for current user</h3>

        <p-accordion>
            <p-accordionTab header="star-directive with var-array">
                <p>used directive as: </p>
                <p>*appPermissionCheck="root.dto.$dtoType.$dtoField.read; varArr ['$dtoType', config.type, '$dtoField', field.field];else
                    noPermissionForVarResolve"</p>
                    <br/>
                    <br/>
                    <br/>

                <div *ngFor="let config of entityConfiguration$ | async">
                    <!-- <span>{{config.type}}</span> -->
                    <div *ngFor="let field of filterFields(config.fields)">
                        <!-- <span>  {{field.field}}</span> -->
                        <div class="p-grid">
                            <div class="p-col">
                                {{displayDtoType(config.type)}}
                            </div>
                            <div class="p-col">
                                {{displayDtoField(field.field)}}
                            </div>
                            <div class="p-col">
                                {{root.dto.$dtoType.$dtoField.read}}
                            </div>
                            <div class="p-col">
                                <div *appPermissionCheck="root.dto.$dtoType.$dtoField.read; varArr ['$dtoType', config.type, '$dtoField', field.field];else
                                    noPermissionForVarResolve" class="hasPermission">
                                    Yes
                                </div>
                                <ng-template #noPermissionForVarResolve>
                                    <div class="hasNoPermission">
                                        No
                                    </div>
                                </ng-template>
                            </div>
                        </div>
                        <div class="p-grid">
                            <div class="p-col">
                            </div>
                            <div class="p-col">
                            </div>
                            <div class="p-col">
                                {{root.dto.$dtoType.$dtoField.create}}
                            </div>
                            <div class="p-col">
                                <div *appPermissionCheck="root.dto.$dtoType.$dtoField.create; varArr ['$dtoType', config.type, '$dtoField', field.field];else
                                    noPermissionForVarResolve" class="hasPermission">
                                    Yes
                                </div>
                                <ng-template #noPermissionForVarResolve>
                                    <div class="hasNoPermission">
                                        No
                                    </div>
                                </ng-template>
                            </div>
                        </div>
                        <div class="p-grid">
                            <div class="p-col">
                            </div>
                            <div class="p-col">
                            </div>
                            <div class="p-col">
                                {{root.dto.$dtoType.$dtoField.write}}
                            </div>
                            <div class="p-col">
                                <div *appPermissionCheck="root.dto.$dtoType.$dtoField.write; varArr ['$dtoType', config.type, '$dtoField', field.field];else
                                    noPermissionForVarResolve" class="hasPermission">
                                    Yes
                                </div>
                                <ng-template #noPermissionForVarResolve>
                                    <div class="hasNoPermission">
                                        No
                                    </div>
                                </ng-template>
                            </div>
                        </div>
                    </div>
                    <br />
                </div>
            </p-accordionTab>


            <p-accordionTab header="ng-template-directive with var-object">
                <p>used directive as: </p>
                <p>ng-template 
                    [appPermissionCheck]="root.dto.$dtoType.$dtoField.read" 
                    [appPermissionCheckVarDict]="{{ '{' }}'$dtoType':config.type, '$dtoField':field.field{{ '}' }}"
                    [appPermissionCheckElse]="hasNoPermissionDictRead"</p>
                    <br/>
                    <br/>
                    <br/>
                    <div *ngFor="let config of entityConfiguration$ | async">
                        <!-- <span>{{config.type}}</span> -->
                        <div *ngFor="let field of filterFields(config.fields)">
                            <!-- <span>  {{field.field}}</span> -->
                            <div class="p-grid">
                                <div class="p-col">
                                    {{displayDtoType(config.type)}}
                                </div>
                                <div class="p-col">
                                    {{displayDtoField(field.field)}}
                                </div>
                                <div class="p-col">
                                    {{root.dto.$dtoType.$dtoField.read}}
                                </div>
                                <div class="p-col">
                                    <ng-template 
                                        [appPermissionCheck]="root.dto.$dtoType.$dtoField.read" 
                                        [appPermissionCheckVarDict]="{'$dtoType':config.type, '$dtoField':field.field}"
                                        [appPermissionCheckElse]="hasNoPermissionDictRead">
                                        <div class="hasPermission">
                                            Yes
                                        </div>
                                    </ng-template>
                                    <ng-template #hasNoPermissionDictRead>
                                        <div class="hasNoPermission">
                                            No
                                        </div>
                                    </ng-template>
                                </div>
                            </div>
                            <div class="p-grid">
                                <div class="p-col">
                                </div>
                                <div class="p-col">
                                </div>
                                <div class="p-col">
                                    {{root.dto.$dtoType.$dtoField.create}}
                                </div>
                                <div class="p-col">
                                    <ng-template 
                                        [appPermissionCheck]="root.dto.$dtoType.$dtoField.create" 
                                        [appPermissionCheckVarDict]="{'$dtoType':config.type, '$dtoField':field.field}"
                                        [appPermissionCheckElse]="hasNoPermissionDictCreate">
                                        <div class="hasPermission">
                                            Yes
                                        </div>
                                    </ng-template>
                                    <ng-template #hasNoPermissionDictCreate>
                                        <div class="hasNoPermission">
                                            No
                                        </div>
                                    </ng-template>
                                </div>
                            </div>
                            <div class="p-grid">
                                <div class="p-col">
                                </div>
                                <div class="p-col">
                                </div>
                                <div class="p-col">
                                    {{root.dto.$dtoType.$dtoField.write}}
                                </div>
                                <div class="p-col">
                                    <ng-template 
                                        [appPermissionCheck]="root.dto.$dtoType.$dtoField.write" 
                                        [appPermissionCheckVarDict]="{'$dtoType':config.type, '$dtoField':field.field}"
                                        [appPermissionCheckElse]="hasNoPermissionDictWrite">
                                        <div class="hasPermission">
                                            Yes
                                        </div>
                                    </ng-template>
                                    <ng-template #hasNoPermissionDictWrite>
                                        <div class="hasNoPermission">
                                            No
                                        </div>
                                    </ng-template>
                                </div>
                            </div>
                        </div>
                        <br />
                    </div>

            </p-accordionTab>
        </p-accordion>

    </p-tabPanel>
    <p-tabPanel header="Permission-Service">
        <h3>Beispiele mit dem Jemeleon-Action-Service</h3>
        <p>Hier wird nicht die Direktive verwendet, sondern der Service (im TypeScript-Code), um die Berechtigungen auf Aktionen zu prüfen.</p>

        <h2>Einzelner Wert</h2>

        <div *ngIf="userHasOrderReadPermission$ | async; else userHasNoOrderReadPermissionObs">
            <p>User has permission for root.dto.Order.read (used observable)</p>
        </div>
        <ng-template #userHasNoOrderReadPermissionObs>
            <div class="hasNoPermission">
                <p>User has NO permission for root.dto.Order.read (used observable)</p>
            </div>
        </ng-template>

        <div *ngIf="userHasOrderReadPermission;else userHasNoOrderReadPermission">
            <p>User has permission for root.dto.Order.read (used without observable)</p>
        </div>
        <ng-template #userHasNoOrderReadPermission>
            <div class="hasNoPermission">
                <p>User has NO permission for root.dto.Order.read (used without observable)</p>
            </div>
        </ng-template>

        <h2>Record</h2>

        <p>als Observable</p>
        <ul>
            <li *ngFor="let item of recordList$ | async">
                <div *ngIf="item[1];else userHasNoPermissionForRecordItemObs">
                    <p>User has permission for {{item[0]}} (used observable)</p>
                </div>
                <ng-template #userHasNoPermissionForRecordItemObs>
                    <div class="hasNoPermission">
                        <p>User has NO permission for {{item[0]}} (used observable)</p>
                    </div>
                </ng-template>
            </li>
        </ul>

        <p *ngIf="missingPermissions$|async as missingPerm">User lacks permission for the following actions: {{missingPerm}}</p>

        <p>als Variable</p>
        <ul>
            <li *ngFor="let item of recordList">
                <div *ngIf="item[1];else userHasNoPermissionForRecordItem">
                    <p>User has permission for {{item[0]}} </p>
                </div>
                <ng-template #userHasNoPermissionForRecordItem>
                    <div class="hasNoPermission">
                        <p>User has NO permission for {{item[0]}} </p>
                    </div>
                </ng-template>
            </li>
        </ul>

        <p *ngIf="missingPermissions">User lacks permission for the following actions: {{missingPermissions}}</p>












    </p-tabPanel>

</p-tabView>